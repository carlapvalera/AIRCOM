@{
    int p = 1;
    bool[] sol = new bool[] { true, true, true };
    bool a = false;
    string Cuadrado(int x) => p == x ? "yes" : "no";
    string Calificacion(bool i)
    //ponerlo en funcion de la calificacion
    {
        return "⭐⭐🌗🌑🌑";
    }
}


<header>
    AIRCOM
</header>

<nav>
    <h4>AEROPUERTO > USUARIO</h4>
    <form asp-controller="Mechanic" asp-action="Index">
        <div>
            <div><button class=@Cuadrado(1) type="submit" name="page" value="1">❗</button></div>
            <div><button class=@Cuadrado(2) type="submit" name="page" value="2">🛠️</button></div>
            <div><button class=@Cuadrado(3) type="submit" name="page" value="3">✉️</button></div>
        </div>
    </form>
</nav>

@if (ViewBag.page == 1)
{
    <h1>Solicitudes de reparación:</h1>
    @foreach (RepairShipDTO repair in ViewBag.repairs)
    {
        <section class="dataToShow">
            <div style="display: flex;">
                <div>Matricula: @Html.DisplayFor(m=>repair.Plate)</div>
                <div>Estado: @Html.DisplayFor(m=>repair.State)</div>
                <div>tipo: @Html.DisplayFor(m=>repair.Name)</div>

            </div>
            @if (!ViewBag.a)
            {
                <div>
                    <form asp-controller="RepairShip" asp-action="ProcessRepair">
                        <input name="rsid" value="@Html.DisplayFor(m=>repair.RSID)" hidden>
                        <div>
                            Cantidad de horas:
                            <input type="number" min="0" max="24" style="width:20%;">
                        </div>
                        <div>
                            Terminación:
                            <input type="date" style="width:100%;" min="@DateTime.Today.Date.ToString().Split().First()">
                        </div>
                        <div style="flex:1;">
                            <button type="submit" style="align-self:end;" class="boton">Reparar</button>
                        </div>
                    </form>
                </div>
            }
        </section>
    }
}

@if (ViewBag.page == 2)
{
    <h1>Reparaciones en proceso:</h1>
    @foreach (RepairShipDTO repair in ViewBag.repairs)
    {
        <section class="dataToShow">
            <div style="display: flex;">
                <div>Matricula: @Html.DisplayFor(m=>repair.Plate)</div>
                <div>Estado: @Html.DisplayFor(m=>repair.State)</div>
                <div>tipo: @Html.DisplayFor(m=>repair.Name)</div>
            </div>
            <div>
                <div>Inicio: @Html.DisplayFor(m=>repair.Init)</div>
                <div>Terminación: @Html.DisplayFor(m=>repair.Finish)</div>
                <div>Horas previstas: </div>
                <form asp-controller="RepairShip" asp-action="FinishRepair">
                       <input name="rsid" value="@Html.DisplayFor(m=>repair.RSID)" hidden>
                       <button type="submit" style="align-self:end;" class="boton">Terminada</button>
                </form>
            </div>

        </section>
    }
}

@if (ViewBag.page == 3)
{
    <h1>Reparaciones Realizadas:</h1>
    @foreach (RepairShipDTO repair in ViewBag.repairs)
    {
        <section class="dataToShow" style="font-size:x-large">
            <div style="display: flex;">
                <div>Matricula: @Html.DisplayFor(m=>repair.Plate)</div>
                <div>Estado: @Html.DisplayFor(m=>repair.State)</div>
                <div>tipo: @Html.DisplayFor(m=>repair.Name)</div>
            </div>
            <div>
                <div>Inicio: @Html.DisplayFor(m=>repair.Init)</div>
                <div>Terminación: @Html.DisplayFor(m=>repair.Finish)</div>
                <div>Costo: $@Html.DisplayFor(m=>repair.Price)</div>
            </div>
            <div>
                <div style="flex:none;">@Calificacion(true)</div>
                <div style="background-color:lightgrey; padding:0.5%; border:solid;font-size:medium;">
                    <details>
                        <summary><strong>Leer Comentario: </strong></summary>
                        Poner aqui el comentario correspondiente si existe
                    </details>
                </div>
            </div>

        </section>
    }
}
