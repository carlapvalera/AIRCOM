@{
    int[] sol = new int[] { 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1 };
    bool a = false;
    string Cuadrado(int x) => ViewBag.p == x ? "yes" : "no";
    string SeeMore() => a ? ("") : ("display:none;");
}


<header>
    AIRCOM
</header>

<nav>
    <h4>AEROPUERTO > USUARIO</h4>
        <<form asp-controller="Security" asp-action="Index">
        <div>
            <div><button class=@Cuadrado(1) type="submit" name="page" value="1">üïë</button></div>
            <div><button class=@Cuadrado(2) type="submit" name="page" value="2">‚úàÔ∏è</button></div>
            <div><button class=@Cuadrado(3) type="submit" name="page" value="3">üë®‚Äçüíº</button></div>
            <div><button class=@Cuadrado(4) type="submit" name="page" value="4">‚ûï</button></div>
        </div>
    </form>
</nav>

@if (ViewBag.page == 1)
{
    <center>
        <h1>Historial</h1>
        <table>
            <tr>
                <th>
                    <center>
                        Fecha de arribo
                        <button class="no">üîΩ</button>
                    </center>
                </th>
                <th>
                    <center>
                        Matr√≠cula
                        <button class="no">üîΩ</button>
                    </center>
                </th>
                <th>
                    <center>
                        Rol del Due√±o
                        <button class="no">üîΩ</button>
                    </center>
                </th>
                <th>
                    <center>
                        Estado de la nave
                        <button class="no">üîΩ</button>
                    </center>
                </th>
                <th>
                    <center>
                        Pr√≥ximo vuelo
                        <button class="no">üîΩ</button>
                    </center>
                </th>
            </tr>
            <tr>
                <td>
                    <input type="text" placeholder="üîçfiltrar">
                </td>
                <td>
                    <input type="text" placeholder="üîçfiltrar">
                </td>
                <td>
                    <input type="text" placeholder="üîçfiltrar">
                </td>
                <td>
                    <input type="text" placeholder="üîçfiltrar">
                </td>
                <td>
                    <input type="text" placeholder="üîçfiltrar">
                </td>
            </tr>
            @foreach (HistoryDTO hist in ViewBag.historys)
            {
                <tr>
                    <td><center>@Html.DisplayFor(m=>hist.ArrivalDate)</center></td>
                    <td><center>@Html.DisplayFor(m=>hist.Plate)</center></td>
                    <td><center>@Html.DisplayFor(m=>hist.OwnerRole)</center></td>
                    <td><center>@Html.DisplayFor(m=>hist.State)</center></td>
                    <td><center>@Html.DisplayFor(m=>hist.ExitDate)</center></td>
                </tr>
            }
            @foreach (var solicitud in sol.Skip(10))
            {
                <tr style=@SeeMore()>
                    <td><center>06/10/2023</center></td>
                    <td><center>251615</center></td>
                    <td><center>Capit√°n</center></td>
                    <td><center>BIEN</center></td>
                    <td><center>06/01/2024</center></td>
                </tr>
            }
        </table>
        @if (ViewBag.lugar_del_error == 1)
        {
            <button class="boton">üîΩ Ver el resto de los registros üîΩ</button>
        }
    </center>
}

@if (ViewBag.page == 2)
{
    <div style="display:flex;justify-content:space-between; margin:0% 2%; align-items:center;">
        <div><h1>Aviones en el aeropuerto</h1></div>
        <div><input type="text" placeholder="üîçbuscar"></div>
    </div>
    @foreach (ShipsDTO ship in ViewBag.ships)
    {
        <section class="dataToShow">
            <div style="display: flex;">
                <div>Matricula: @Html.DisplayFor(m=>ship.Plate)</div>
                <div>Estado: @Html.DisplayFor(m=>ship.State)</div>
                <div>ID Propietario: @Html.DisplayFor(m=>ship.ClientID)</div>

            </div>

            <div class="tag">
                <aside>
                    <div><h4>Caracter√≠sticas:</h4></div>
                    <div><strong>Modelo:</strong> @Html.DisplayFor(m=>ship.Model)</div>
                    <div><strong>Capacidad de carga:</strong> @Html.DisplayFor(m=>ship.Crew)</div>
                    <div><strong>Cantidad de tripulantes:</strong> @Html.DisplayFor(m=>ship.Capacity)</div>
                    <div><strong>Cantidad de pasajeros:</strong> @Html.DisplayFor(m=>ship.Pass)</div>
                </aside>
                <div>
                    <div>Fecha de salida programada:</div>
                    <div>1/12/2024</div>
                    <form>
                        <input type="text" name="plate" value="@Html.DisplayFor(m=>ship.Plate)" hidden>
                        <input type="text" name="page" value="1" hidden>
                        <input asp-controller="Security" asp-action="Index" class="boton" type="submit" value="Ver historial">
                        <input class="boton" type="submit" value="Solicitar reparaci√≥n">
                    </form>
                </div>
            </div>
        </section>
    }
}

@if (ViewBag.page == 3)
{
    <center>
        <h1>Personas</h1>
        <table>
            <tr>
                <th>
                    <center>
                        Rol
                        <button class="no">üîΩ</button>
                    </center>
                </th>
                <th>
                    <center>
                        Carnet de Identidad
                        <button class="no">üîΩ</button>
                    </center>
                </th>
                <th>
                    <center>
                        Nombre
                        <button class="no">üîΩ</button>
                    </center>
                </th>
                <th>
                    <center>
                        Nacionalidad
                        <button class="no">üîΩ</button>
                    </center>
                </th>
                <th>
                    <center>
                        Tipo
                        <button class="no">üîΩ</button>
                    </center>
                </th>
            </tr>
            <tr>
                <td>
                    <input type="text" placeholder="üîçfiltrar">
                </td>
                <td>
                    <input type="text" placeholder="üîçfiltrar">
                </td>
                <td>
                    <input type="text" placeholder="üîçfiltrar">
                </td>
                <td>
                    <input type="text" placeholder="üîçfiltrar">
                </td>
                <td>
                    <input type="text" placeholder="üîçfiltrar">
                </td>
            </tr>
            @foreach (ClientDTO client in ViewBag.clients)
            {
                <tr>
                    <td>@Html.DisplayFor(m=>client.Rol)</td>
                    <td>@Html.DisplayFor(m=>client.CI)</td>
                    <td>@Html.DisplayFor(m=>client.Name)</td>
                    <td>@Html.DisplayFor(m=>client.Nationality)</td>
                    <td>@Html.DisplayFor(m=>client.Type)</td>
                </tr>
            }
            @if (ViewBag.lugar_del_error == 2)
            {
                @foreach (var solicitud in sol.Skip(10))
                {
                    <tr style=@SeeMore()>
                        <td><center>Cliente</center></td>
                        <td><center>63122511615</center></td>
                        <td><center>Alan Brito Prieto</center></td>
                        <td><center>Cuba</center></td>
                        <td><center>VIP</center></td>
                    </tr>
                }
            }
        </table>
        @if (ViewBag.lugar_del_error == 3)
        {
            <button class="boton">üîΩ Ver el resto de los registros üîΩ</button>
        }

    </center>
}

@if (ViewBag.page == 4)
{
    <section>
        <details>
            <summary>A√±adir Cliente</summary>
            <center>
                <form asp-controller="Client" asp-action="Create" class="formulario">
                    <table>
                        <tr>
                            <td>nombre: </td>
                            <td><input type="text" name='name'></td>
                        </tr>
                        <tr>
                            <td>Carnet de identidad: </td>
                            <td><input type="text" name='ci' pattern="[0-9]{1,}" title="Debe ser numero"></td>
                        </tr>
                        <tr>
                            <td>Nacionalidad: </td>
                            <td><input type="text" name='nationality'></td>
                        </tr>
                        <td>Tipo de cliente: </td>
                        <td>
                            <select name='type'>
                                @foreach (var item in sol)
                                {
                                    <option>VIP</option>
                                }
                            </select>
                        </td>
                        <tr>
                            <td>Correo: </td>
                            <td><input type="email" name='email'></td>
                        </tr>
                        <tr>
                            <td>Contrase√±a: </td>
                            <td><input type="password" name='pwd'></td>
                        </tr>
                        <tr>
                            <td>Comprobar contrase√±a: </td>
                            <td><input type="password"></td>
                        </tr>
                    </table>
                    @if (ViewBag.lugar_del_error == 4)
                    {
                        <aside class="error">
                            @ViewBag.error
                        </aside>
                    }
                    <button class="boton">Enviar</button>
                </form>
            </center>
        </details>
        <details>
            <summary>A√±adir Trabajador</summary>
            <center>
                <form class="formulario" asp-controller="Client" asp-action="Create">
                    <table>
                        <tr>
                            <td>nombre: </td>
                            <td><input type="text" name='name'></td>
                        </tr>
                        <tr>
                            <td>Carnet de identidad: </td>
                            <td><input type="text" name='ci' pattern="[0-9]{1,}" title="Debe ser numero"></td>
                        </tr>
                        <tr>
                            <td><input type="text" name='nationality' value='Cuba' hidden></td>
                        </tr>
                        <tr>
                            <td>Puesto: </td>
                            <td>
                                <select name='type'>
                                    <option>Seguridad</option>
                                    <option>Direcci√≥n</option>
                                    <option>Mec√°nico</option>
                                </select>
                            </td>
                        </tr>
                        <tr>
                            <td>Correo: </td>
                            <td><input type="email" name='email'></td>
                        </tr>
                        <tr>
                            <td>Contrase√±a: </td>
                            <td><input type="password" name='pwd'></td>
                        </tr>
                        <tr>
                            <td>Comprobar contrase√±a: </td>
                            <td><input type="password"></td>
                        </tr>
                    </table>
                    @if (ViewBag.lugar_del_error == 5)
                    {
                        <aside class="error">
                            @ViewBag.error
                        </aside>
                    }
                    <button class="boton">Enviar</button>
                </form>
            </center>
        </details>
        <details>
            <summary>A√±adir Nave</summary>
            <center>
                <form asp-controller="Ships" asp-action="Create" class="formulario">
                    <table>
                        <tr>
                            <td><input type="text" name="state" value="√ìptimo" hidden></td>
                        </tr>
                        <tr>
                            <td>Matricula: </td>
                            <td><input type="text" name="plate"></td>
                        </tr>
                        <tr>
                            <td>ID Due√±o(opcional): </td>
                            <td><input type="text" name="clientid"></td>
                        </tr>
                        <tr>
                            <td>Modelo: </td>
                            <td><input type="text" name="model"></td>
                        </tr>
                        <tr>
                            <td>Capacidad de carga: </td>
                            <td><input type="text" name="crew"></td>
                        </tr>
                        <tr>
                            <td>Cantidad de tripulacion: </td>
                            <td><input type="text" name="capacity"></td>
                        </tr>
                        <tr>
                            <td>Cantidad de pasajeros: </td>
                            <td><input type="text" name="pass"></td>
                        </tr>
                    </table>
                    @if (ViewBag.lugar_del_error == 6)
                    {
                        <aside class="error">
                            @ViewBag.error
                        </aside>
                    }
                    <button class="boton">Enviar</button>
                </form>
            </center>
        </details>
        <details>
            <summary>Solicitar Reparaci√≥n</summary>
            <center>
                <form asp-controller="RepairShip" asp-action="RequestRepair" class="formulario">
                    <table>
                        <tr>
                            <td>Matricula: </td>
                            <td><input type="text" name="plate"></td>
                        </tr>
                        <tr>
                            <td>Instalaci√≥n de la reparaci√≥n </td>
                            <td>
                                <select name="InstallationID" asp-items="ViewBag.installations"></select>
                            </td>
                        </tr>
                        <tr>
                            <td>Tipo de reparaci√≥n: </td>
                            <td>
                                <select name="RepairID" asp-items="ViewBag.repairs"></select>
                            </td>
                        </tr>
                    </table>
                    @if (ViewBag.lugar_del_error == 7)
                    {
                        <aside class="error">
                            @ViewBag.error
                        </aside>
                    }
                    <button class="boton">Enviar</button>
                </form>
            </center>
        </details>
        <details>
            <summary>Registrar Arribo</summary>
            <center>
                <form asp-controller="History" asp-action="Create" class="formulario">
                    <table>
                        <tr>
                            <td>Matricula: </td>
                            <td><input type="text" name="plate"></td>
                        </tr>
                        <tr>
                            <td>Rol del due√±o:</td>
                            <td>
                                <select name="ownerRole">
                                    @foreach (var item in sol)
                                    {
                                        <option>Capitan</option>
                                    }
                                </select>
                            </td>
                        </tr>
                        <tr>
                            <td>Estado de la nave: </td>
                            <td>
                                <select name="state">
                                    @foreach (var item in sol)
                                    {
                                        <option>Reparacion capital</option>
                                    }
                                </select>
                            </td>
                        </tr>
                        <tr>
                            <td>Proximo vuelo: </td>
                            <td><input type="date" name="exitDate"></td>
                        </tr>
                    </table>
                    @if (ViewBag.lugar_del_error == 8)
                    {
                        <aside class="error">
                            @ViewBag.error
                        </aside>
                    }
                    <button class="boton">Enviar</button>
                </form>
            </center>
        </details>
        <details style="background-color:lightgrey">
            <summary>Editar informacion de cliente o trabajador</summary>
            <center>
                <form method="post" class="formulario">
                    <table>
                        <tr>
                            <td>Correo: </td>
                            <td><input name="email"></td>
                        </tr>
                        <tr>
                            <td>Cambiar Contrase√±a: </td>
                            <td><input type="password" name="pwd"></td>
                        </tr>
                        <tr>
                            <td>Comprobar contrase√±a: </td>
                            <td><input type="password"></td>
                        </tr>
                    </table>
                    @if (ViewBag.lugar_del_error == 9)
                    {
                        <aside class="error">
                            @ViewBag.error
                        </aside>
                    }
                    <input asp-controller="Client" asp-action="Edit" type="submit" value="Cambiar Contrase√±a">

                    <input asp-controller="Client" asp-action="Delete" type="submit" style="background-color:rgb(165,5,5)" value="Eliminar usuario">
                </form>
            </center>
        </details>
    </section>
}
